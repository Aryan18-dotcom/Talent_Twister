{% extends 'Hr_App/Settings/base.html' %}
{% load static %}

{% block content %}
<div class="min-h-screen bg-gray-900 text-gray-100 flex items-center justify-center p-4 relative overflow-hidden">
    <!-- Animated background elements -->
    <div class="absolute inset-0 overflow-hidden">
        <div class="absolute top-1/4 left-1/4 w-32 h-32 bg-purple-600 rounded-full filter blur-3xl opacity-20 animate-pulse"></div>
        <div class="absolute bottom-1/3 right-1/3 w-40 h-40 bg-blue-600 rounded-full filter blur-3xl opacity-20 animate-pulse animation-delay-2000"></div>
        <div class="absolute top-1/3 right-1/4 w-28 h-28 bg-indigo-600 rounded-full filter blur-3xl opacity-20 animate-pulse animation-delay-4000"></div>
    </div>

    <!-- Construction container -->
    <div class="relative z-10 bg-gray-800 bg-opacity-80 backdrop-blur-lg rounded-xl shadow-2xl border border-gray-700 p-8 max-w-3xl w-full">
        <!-- Animated construction vehicle -->
        <div class="absolute -bottom-8 -left-20 w-48 h-24 animate-move-vehicle">
            <div class="absolute bottom-0 left-0 w-36 h-12 bg-yellow-600 rounded-t-lg"></div>
            <div class="absolute bottom-12 left-4 w-16 h-10 bg-yellow-500 rounded-t-md"></div>
            <div class="absolute bottom-0 left-4 w-10 h-10 bg-gray-900 rounded-full border-4 border-gray-700 animate-spin-slow"></div>
            <div class="absolute bottom-0 left-28 w-10 h-10 bg-gray-900 rounded-full border-4 border-gray-700 animate-spin-slow"></div>
            <div class="absolute -top-2 left-32 w-4 h-4 bg-gray-300 rounded-full opacity-0 animate-smoke"></div>
            <div class="absolute -top-4 left-36 w-5 h-5 bg-gray-300 rounded-full opacity-0 animate-smoke animation-delay-1000"></div>
        </div>

        <!-- Content -->
        <div class="text-center">
            <!-- Animated title -->
            <h1 class="text-5xl font-bold mb-6 flex flex-wrap justify-center">
                {% for letter in "UNDER CONSTRUCTION" %}
                <span class="inline-block animate-bounce" style="animation-delay: {{ forloop.counter0|divisibleby:2|yesno:'0.1s,0.2s' }}">{{ letter }}</span>
                {% endfor %}
            </h1>

            <p class="text-xl text-gray-300 mb-8 animate-pulse">
                We're building something amazing behind the scenes!
            </p>

            <!-- Progress bar -->
            <div class="w-full bg-gray-700 rounded-full h-4 mb-8">
                <div class="bg-gradient-to-r from-purple-500 to-blue-500 h-4 rounded-full animate-progress-width" style="width: 65%"></div>
            </div>
            <p class="text-sm text-gray-400 mb-8">65% complete - Estimated launch: 2 weeks</p>

            <!-- Countdown -->
            <div class="grid grid-cols-4 gap-4 mb-10">
                <div class="bg-gray-700 p-4 rounded-lg">
                    <div class="text-3xl font-mono font-bold text-blue-400 animate-countdown">14</div>
                    <div class="text-xs text-gray-400 mt-1">DAYS</div>
                </div>
                <div class="bg-gray-700 p-4 rounded-lg">
                    <div class="text-3xl font-mono font-bold text-purple-400 animate-countdown">08</div>
                    <div class="text-xs text-gray-400 mt-1">HOURS</div>
                </div>
                <div class="bg-gray-700 p-4 rounded-lg">
                    <div class="text-3xl font-mono font-bold text-indigo-400 animate-countdown">42</div>
                    <div class="text-xs text-gray-400 mt-1">MINUTES</div>
                </div>
                <div class="bg-gray-700 p-4 rounded-lg">
                    <div class="text-3xl font-mono font-bold text-violet-400 animate-countdown">19</div>
                    <div class="text-xs text-gray-400 mt-1">SECONDS</div>
                </div>
            </div>

            <!-- Back button -->
            <a href="{{ back_url }}" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all transform hover:-translate-y-1 shadow-lg">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd" />
                </svg>
                Return to Dashboard
            </a>
        </div>

        <!-- Construction worker -->
        <div class="absolute -bottom-6 -right-6 w-20 h-24 animate-worker-bounce">
            <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-12 h-16 bg-gray-300 rounded-t-full"></div>
            <div class="absolute bottom-16 left-1/2 transform -translate-x-1/2 w-10 h-10 bg-yellow-400 rounded-full"></div>
            <div class="absolute bottom-14 left-1/2 transform -translate-x-1/4 w-8 h-2 bg-gray-300 rounded-full animate-worker-arm"></div>
        </div>
    </div>
</div>

<style>
    @keyframes move-vehicle {
        0% { transform: translateX(-200px); }
        100% { transform: translateX(calc(100vw + 200px)); }
    }
    @keyframes spin-slow {
        to { transform: rotate(360deg); }
    }
    @keyframes smoke {
        0% { transform: translateY(0) scale(0.5); opacity: 0; }
        50% { opacity: 0.5; }
        100% { transform: translateY(-100px) scale(2); opacity: 0; }
    }
    @keyframes bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    @keyframes progress-width {
        0% { width: 60%; }
        50% { width: 70%; }
        100% { width: 60%; }
    }
    @keyframes countdown {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }
    @keyframes worker-bounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }
    @keyframes worker-arm {
        0%, 100% { transform: rotate(-20deg) translateX(-25%); }
        50% { transform: rotate(30deg) translateX(-25%); }
    }

    .animate-move-vehicle {
        animation: move-vehicle 20s linear infinite;
    }
    .animate-spin-slow {
        animation: spin-slow 3s linear infinite;
    }
    .animate-smoke {
        animation: smoke 3s ease-out infinite;
    }
    .animate-bounce {
        animation: bounce 0.8s ease infinite alternate;
    }
    .animate-progress-width {
        animation: progress-width 3s ease-in-out infinite;
    }
    .animate-countdown {
        animation: countdown 1s ease infinite;
    }
    .animate-worker-bounce {
        animation: worker-bounce 2s ease infinite;
    }
    .animate-worker-arm {
        animation: worker-arm 2s ease infinite;
        transform-origin: right center;
    }
    .animation-delay-2000 {
        animation-delay: 2s;
    }
    .animation-delay-4000 {
        animation-delay: 4s;
    }
</style>

<script>
    // Countdown timer functionality
    function updateCountdown() {
        const launchDate = new Date(new Date().getFullYear(), new Date().getMonth(), new Date().getDate() + 14, 0, 0, 0);
        const now = new Date();
        const diff = launchDate - now;
        
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        
        document.querySelectorAll('.animate-countdown')[0].textContent = days.toString().padStart(2, '0');
        document.querySelectorAll('.animate-countdown')[1].textContent = hours.toString().padStart(2, '0');
        document.querySelectorAll('.animate-countdown')[2].textContent = minutes.toString().padStart(2, '0');
        document.querySelectorAll('.animate-countdown')[3].textContent = seconds.toString().padStart(2, '0');
    }

    setInterval(updateCountdown, 1000);
    updateCountdown();
</script>
{% endblock %}